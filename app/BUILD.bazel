# TODO: Rename file to 'BUILD' post-Gradle. See https://github.com/oppia/oppia-android/issues/1532.
load("@io_bazel_rules_kotlin//kotlin:kotlin.bzl", "kt_android_library")
load("@rules_jvm_external//:defs.bzl", "artifact")
load("@dagger//:workspace_defs.bzl", "dagger_rules")

VIEW_MODEL_FILES = [
    "src/main/java/org/oppia/app/administratorcontrols/AdministratorControlsViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsAccountActionsViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsAppInformationViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsDownloadPermissionsViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsGeneralViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsItemViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsProfileViewModel.kt",
    "src/main/java/org/oppia/app/administratorcontrols/appversion/AppVersionViewModel.kt",
    "src/main/java/org/oppia/app/completedstorylist/CompletedStoryItemViewModel.kt",
    "src/main/java/org/oppia/app/completedstorylist/CompletedStoryListViewModel.kt",
    "src/main/java/org/oppia/app/drawer/NavigationDrawerFooterViewModel.kt",
    "src/main/java/org/oppia/app/drawer/NavigationDrawerHeaderViewModel.kt",
    "src/main/java/org/oppia/app/help/HelpItemViewModel.kt",
    "src/main/java/org/oppia/app/help/HelpListViewModel.kt",
    "src/main/java/org/oppia/app/help/faq/FAQListViewModel.kt",
    "src/main/java/org/oppia/app/help/faq/faqItemViewModel/FAQContentViewModel.kt",
    "src/main/java/org/oppia/app/help/faq/faqItemViewModel/FAQHeaderViewModel.kt",
    "src/main/java/org/oppia/app/help/faq/faqItemViewModel/FAQItemViewModel.kt",
    "src/main/java/org/oppia/app/hintsandsolution/HintsAndSolutionItemViewModel.kt",
    "src/main/java/org/oppia/app/hintsandsolution/HintsViewModel.kt",
    "src/main/java/org/oppia/app/hintsandsolution/SolutionViewModel.kt",
    "src/main/java/org/oppia/app/home/HomeItemViewModel.kt",
    "src/main/java/org/oppia/app/home/UserAppHistoryViewModel.kt",
    "src/main/java/org/oppia/app/home/WelcomeViewModel.kt",
    "src/main/java/org/oppia/app/home/recentlyplayed/SectionTitleViewModel.kt",
    "src/main/java/org/oppia/app/home/recentlyplayed/RecentlyPlayedItemViewModel.kt",
    "src/main/java/org/oppia/app/home/recentlyplayed/OngoingStoryViewModel.kt",
    "src/main/java/org/oppia/app/home/topiclist/AllTopicsViewModel.kt",
    "src/main/java/org/oppia/app/home/topiclist/PromotedStoryListViewModel.kt",
    "src/main/java/org/oppia/app/home/topiclist/PromotedStoryViewModel.kt",
    "src/main/java/org/oppia/app/home/topiclist/TopicSummaryViewModel.kt",
    "src/main/java/org/oppia/app/onboarding/OnboadingSlideViewModel.kt",
    "src/main/java/org/oppia/app/onboarding/OnboardingSlideFinalViewModel.kt",
    "src/main/java/org/oppia/app/onboarding/OnboardingViewModel.kt",
    "src/main/java/org/oppia/app/ongoingtopiclist/OngoingTopicItemViewModel.kt",
    "src/main/java/org/oppia/app/ongoingtopiclist/OngoingTopicListViewModel.kt",
    "src/main/java/org/oppia/app/options/OptionControlsViewModel.kt",
    "src/main/java/org/oppia/app/options/OptionsAppLanguageViewModel.kt",
    "src/main/java/org/oppia/app/options/OptionsAudioLanguageViewModel.kt",
    "src/main/java/org/oppia/app/options/OptionsItemViewModel.kt",
    "src/main/java/org/oppia/app/options/OptionsStoryTextViewViewModel.kt",
    "src/main/java/org/oppia/app/player/exploration/ExplorationViewModel.kt",
    "src/main/java/org/oppia/app/player/state/StateViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/ContentViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/ContinueInteractionViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/ContinueNavigationButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/DragAndDropSortInteractionViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/DragDropInteractionContentViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/FeedbackViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/FractionInteractionViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/NextButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/NumericInputViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/PreviousButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/PreviousResponsesHeaderViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/ReplayButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/ReturnToTopicButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/SelectionInteractionContentViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/SelectionInteractionViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/StateItemViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/SubmitButtonViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/SubmittedAnswerViewModel.kt",
    "src/main/java/org/oppia/app/player/state/itemviewmodel/TextInputViewModel.kt",
    "src/main/java/org/oppia/app/player/state/testing/StateFragmentTestViewModel.kt",
    "src/main/java/org/oppia/app/profile/AddProfileViewModel.kt",
    "src/main/java/org/oppia/app/profile/AdminAuthViewModel.kt",
    "src/main/java/org/oppia/app/profile/AdminPinViewModel.kt",
    "src/main/java/org/oppia/app/profile/AdminSettingsViewModel.kt",
    "src/main/java/org/oppia/app/profile/PinPasswordViewModel.kt",
    "src/main/java/org/oppia/app/profile/ProfileChooserViewModel.kt",
    "src/main/java/org/oppia/app/profile/ResetPinViewModel.kt",
    "src/main/java/org/oppia/app/profileprogress/ProfilePictureActivityViewModel.kt",
    "src/main/java/org/oppia/app/profileprogress/ProfileProgressHeaderViewModel.kt",
    "src/main/java/org/oppia/app/profileprogress/ProfileProgressItemViewModel.kt",
    "src/main/java/org/oppia/app/profileprogress/ProfileProgressViewModel.kt",
    "src/main/java/org/oppia/app/profileprogress/RecentlyPlayedStorySummaryViewModel.kt",
    "src/main/java/org/oppia/app/settings/profile/ProfileEditViewModel.kt",
    "src/main/java/org/oppia/app/settings/profile/ProfileListViewModel.kt",
    "src/main/java/org/oppia/app/settings/profile/ProfileRenameViewModel.kt",
    "src/main/java/org/oppia/app/settings/profile/ProfileResetPinViewModel.kt",
    "src/main/java/org/oppia/app/story/StoryViewModel.kt",
    "src/main/java/org/oppia/app/story/StoryFragmentInterface.kt",
    "src/main/java/org/oppia/app/story/storyitemviewmodel/StoryChapterSummaryViewModel.kt",
    "src/main/java/org/oppia/app/story/storyitemviewmodel/StoryHeaderViewModel.kt",
    "src/main/java/org/oppia/app/story/storyitemviewmodel/StoryItemViewModel.kt",
    "src/main/java/org/oppia/app/testing/BindableAdapterTestViewModel.kt",
    "src/main/java/org/oppia/app/topic/TopicViewModel.kt",
    "src/main/java/org/oppia/app/topic/conceptcard/ConceptCardViewModel.kt",
    "src/main/java/org/oppia/app/topic/info/TopicInfoViewModel.kt",
    "src/main/java/org/oppia/app/topic/lessons/StorySummaryViewModel.kt",
    "src/main/java/org/oppia/app/topic/lessons/TopicLessonsItemViewModel.kt",
    "src/main/java/org/oppia/app/topic/lessons/TopicLessonsTitleViewModel.kt",
    "src/main/java/org/oppia/app/topic/practice/TopicPracticeViewModel.kt",
    "src/main/java/org/oppia/app/topic/practice/practiceitemviewmodel/TopicPracticeFooterViewModel.kt",
    "src/main/java/org/oppia/app/topic/practice/practiceitemviewmodel/TopicPracticeHeaderViewModel.kt",
    "src/main/java/org/oppia/app/topic/practice/practiceitemviewmodel/TopicPracticeItemViewModel.kt",
    "src/main/java/org/oppia/app/topic/practice/practiceitemviewmodel/TopicPracticeSubtopicViewModel.kt",
    "src/main/java/org/oppia/app/topic/questionplayer/QuestionPlayerViewModel.kt",
    "src/main/java/org/oppia/app/topic/revision/TopicRevisionViewModel.kt",
    "src/main/java/org/oppia/app/topic/revision/revisionitemviewmodel/TopicRevisionItemViewModel.kt",
    "src/main/java/org/oppia/app/topic/revisioncard/RevisionCardViewModel.kt",
    "src/main/java/org/oppia/app/viewmodel/ObservableViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/WalkthroughViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/welcome/WalkthroughWelcomeViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/topiclist/WalkthroughTopicItemViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/topiclist/WalkthroughTopicViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/topiclist/topiclistviewmodel/WalkthroughTopicHeaderViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/topiclist/topiclistviewmodel/WalkthroughTopicSummaryViewModel.kt",
    "src/main/java/org/oppia/app/walkthrough/end/WalkthroughFinalViewModel.kt",
    "src/main/java/org/oppia/app/viewmodel/ObservableArrayList.kt",
    "src/main/java/org/oppia/app/parser/StringToNumberParser.kt",
    "src/main/java/org/oppia/app/parser/StringToFractionParser.kt",
    "src/main/java/org/oppia/app/recyclerview/BindableAdapter.kt",
    "src/main/java/org/oppia/app/onboarding/ViewPagerSlide.kt",
    "src/main/java/org/oppia/app/help/HelpItems.kt",
    "src/main/java/org/oppia/app/recyclerview/DividerItemDecorator.kt",
    "src/main/java/org/oppia/app/IntentFactoryShimInterface.kt",
    "src/main/java/org/oppia/app/player/audio/AudioViewModel.kt",
    "src/main/java/org/oppia/app/recyclerview/DragAndDropItemFacilitator.kt",#
]

DATABINDING_ADAPTER_FILES = [
    "src/main/java/org/oppia/app/databinding/DrawableBindingAdapters.java",
    "src/main/java/org/oppia/app/databinding/EditTextBindingAdapters.java",
    "src/main/java/org/oppia/app/databinding/ImageViewBindingAdapters.java",
    "src/main/java/org/oppia/app/databinding/MarginBindingAdapters.java",
    "src/main/java/org/oppia/app/databinding/TextViewBindingAdapters.java",
]

RECYCLERVIEW_ADAPTER_FILES = [
    "src/main/java/org/oppia/app/recyclerview/RecyclerViewBindingAdapter.java"
]

LISTENER_FILES = [
    "src/main/java/org/oppia/app/home/topiclist/TopicSummaryClickListener.kt",
    "src/main/java/org/oppia/app/topic/revisioncard/ReturnToTopicClickListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/SubmitNavigationButtonListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/PreviousNavigationButtonListener.kt",
    "src/main/java/org/oppia/app/story/ExplorationSelectionListener.kt",
    "src/main/java/org/oppia/app/profileprogress/ProfilePictureClickListener.kt",
    "src/main/java/org/oppia/app/profileprogress/RouteToOngoingTopicListListener.kt",
    "src/main/java/org/oppia/app/profileprogress/RouteToCompletedStoryListListener.kt",
    "src/main/java/org/oppia/app/home/RouteToRecentlyPlayedListener.kt",
    "src/main/java/org/oppia/app/profile/RouteToAdminPinListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/ReturnToTopicNavigationButtonListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/ReplayButtonListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/PreviousResponsesHeaderClickListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/NextNavigationButtonListener.kt",
    "src/main/java/org/oppia/app/recyclerview/OnDragEndedListener.kt",
    "src/main/java/org/oppia/app/recyclerview/OnItemDragListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/ContinueNavigationButtonListener.kt",
    "src/main/java/org/oppia/app/options/RouteToStoryTextSizeListener.kt",
    "src/main/java/org/oppia/app/options/RouteToAudioLanguageListListener.kt",
    "src/main/java/org/oppia/app/home/RouteToTopicPlayStoryListener.kt",
    "src/main/java/org/oppia/app/home/recentlyplayed/OngoingStoryClickListener.kt",
    "src/main/java/org/oppia/app/help/faq/RouteToFAQSingleListener.kt",
    "src/main/java/org/oppia/app/administratorcontrols/RouteToProfileListListener.kt",
    "src/main/java/org/oppia/app/drawer/RouteToProfileProgressListener.kt",
    "src/main/java/org/oppia/app/options/RouteToAppLanguageListListener.kt",
    "src/main/java/org/oppia/app/administratorcontrols/RouteToAppVersionListener.kt",
    "src/main/java/org/oppia/app/topic/revision/RevisionSubtopicSelector.kt",
    "src/main/java/org/oppia/app/topic/lessons/StorySummarySelector.kt",
    "src/main/java/org/oppia/app/player/state/answerhandling/InteractionAnswerHandler.kt",
    "src/main/java/org/oppia/app/player/state/answerhandling/InteractionAnswerErrorOrAvailabilityCheckReceiver.kt",
    "src/main/java/org/oppia/app/topic/RouteToRevisionCardListener.kt",
    "src/main/java/org/oppia/app/help/RouteToFAQListListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/StateKeyboardButtonListener.kt",
    "src/main/java/org/oppia/app/player/state/listener/RouteToHintsAndSolutionListener.kt",
    "src/main/java/org/oppia/app/walkthrough/WalkthroughFragmentChangeListener.kt",
    "src/main/java/org/oppia/app/profile/ProfileChooserListener.kt",
    "src/main/java/org/oppia/app/onboarding/OnboardingListener.kt",
    "src/main/java/org/oppia/app/walkthrough/end/WalkthroughFinalListener.kt",
    "src/main/java/org/oppia/app/walkthrough/WalkthroughActivityListener.kt",
]

#PRESENTER_FILES = [
#    "src/main/java/org/oppia/app/player/state/StateFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/walkthrough/WalkthroughActivityPresenter.kt",
#    "src/main/java/org/oppia/app/home/HomeFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/profile/ProfileChooserFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/walkthrough/end/WalkthroughFinalFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/onboarding/OnboardingFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/walkthrough/topiclist/WalkthroughTopicListFragmentPresenter.kt",
#    "src/main/java/org/oppia/app/walkthrough/welcome/WalkthroughWelcomeFragmentPresenter.kt",
#]

LAYOUT_RES_FILES = [
    "src/main/res/layout/**",
    "src/main/res/layout-land/**",
    "src/main/res/layout-sw600dp-land/**",
    "src/main/res/layout-sw600dp-port/**",
]

ANNOTATIONS_AND_HELPERS = [
    "src/main/java/org/oppia/app/fragment/FragmentScope.kt",
    "src/main/java/org/oppia/app/activity/ActivityScope.kt",
    "src/main/java/org/oppia/app/utility/KeyboardHelper.kt",
]

VIEW_FILES = [
    "src/main/java/org/oppia/app/customview/interaction/FractionInputInteractionView.kt",
    "src/main/java/org/oppia/app/customview/interaction/NumericInputInteractionView.kt",
    "src/main/java/org/oppia/app/customview/interaction/TextInputInteractionView.kt",
    "src/main/java/org/oppia/app/profile/ProfileInputView.kt",
    "src/main/java/org/oppia/app/profile/ProfileInputVieBindingShimInterface.kt",
#    "src/main/java/org/oppia/app/player/state/DragDropSortInteractionView.kt",
#    "src/main/java/org/oppia/app/fragment/InjectableFragment.kt",
#    "src/main/java/org/oppia/app/activity/InjectableAppCompatActivity.kt",
]

BINDING_ADAPTER_FILES = DATABINDING_ADAPTER_FILES + RECYCLERVIEW_ADAPTER_FILES

android_library(
    name = "resources",
    custom_package = "org.oppia.app",
    manifest = "src/main/AndroidManifest.xml",
    resource_files = glob(["src/main/res/**",], exclude = ["src/main/res/layout*/**"]),
    exports_manifest = True,
    deps = [
        artifact("com.google.android.material:material"),
    ],
)

android_library(
    name = "databinding_resources",
    custom_package = "org.oppia.app.db",
    manifest = "src/main/DbAndroidManifest.xml",
    resource_files = glob(["src/main/res/layout*/**"]),
    enable_data_binding = 1,
    exports_manifest = True,
    deps = [
        ":resources",
        ":databinding_adapters",
        ":recyclerview_adapters",
        ":view_models",
        ":views",
        ":annotations_and_helpers",
        artifact("com.google.android.material:material"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
        artifact("androidx.constraintlayout:constraintlayout"),
    ],
)

kt_android_library(
    name = "listeners",
    custom_package = "org.oppia.app",
    srcs = LISTENER_FILES,
    deps = [
        ":dagger",
        "//model:model_lib",
        artifact("androidx.recyclerview:recyclerview:1.0.0"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
    ],
    visibility = ["//visibility:public"],
)

kt_android_library(
    name = "views",
    custom_package = "org.oppia.app.views",
    manifest = "src/main/ViewsAndroidManifest.xml",
    srcs = VIEW_FILES,
    deps = [
        ":listeners",
        ":annotations_and_helpers",
        ":view_models",
        ":resources",
        artifact("androidx.appcompat:appcompat"),
    ],
    visibility = ["//visibility:public"],
)

kt_android_library(
    name = "annotations_and_helpers",
    custom_package = "org.oppia.app",
    srcs = ANNOTATIONS_AND_HELPERS,
    deps = [
        ":dagger",
        "//model:model_lib",
        artifact("androidx.recyclerview:recyclerview:1.0.0"),
    ],
    visibility = ["//visibility:public"],
)

kt_android_library(
    name = "view_models",
    custom_package = "org.oppia.app.vm",
    srcs = VIEW_MODEL_FILES,
    enable_data_binding = 1,
    manifest = "src/main/ViewModelManifest.xml",
    deps = [
        ":dagger",
        "//model:model_lib",
        "//utility:utility_lib",
        "//domain:domain_lib",
        ":listeners",
        ":annotations_and_helpers",
        ":resources",
        artifact("androidx.appcompat:appcompat"),
        artifact("com.github.bumptech.glide:glide"),
        artifact("com.caverock:androidsvg-aar"),
        artifact("androidx.lifecycle:lifecycle-livedata-ktx"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
        artifact("com.google.android.material:material:1.2.0-alpha02"),
        artifact("androidx.recyclerview:recyclerview:1.0.0"),
    ],
    visibility = ["//visibility:public"],
)

android_library(
    name = "databinding_adapters",
    custom_package = "org.oppia.app.impl.adapters",
    srcs = DATABINDING_ADAPTER_FILES,
    enable_data_binding = 1,
    #resource_files = glob(["src/main/res/**"]),
    manifest = "src/main/DbAdaptersAndroidManifest.xml",
    deps = [
        ":dagger",
        "//model:model_lib",
        "//utility:utility_lib",
        ":view_models",
        ":resources",
        artifact("androidx.appcompat:appcompat"),
        artifact("com.chaos.view:pinview:1.4.3"),
        artifact("com.github.bumptech.glide:glide"),
        artifact("com.caverock:androidsvg-aar"),
        artifact("androidx.lifecycle:lifecycle-livedata-ktx"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
        artifact("com.google.android.material:material:1.2.0-alpha02"),
        artifact("androidx.constraintlayout:constraintlayout:1.1.3"),
        artifact("de.hdodenhof:circleimageview:3.0.1"),
        artifact("javax.annotation:javax.annotation-api:jar"),
        artifact("org.jetbrains:annotations:jar"),
        "@circularimageview//circularimageview:circular_image_view",
    ],
    visibility = ["//visibility:public"],
)

android_library(
    name = "recyclerview_adapters",
    custom_package = "org.oppia.app.rv",
    srcs = RECYCLERVIEW_ADAPTER_FILES,
    enable_data_binding = 1,
    manifest = "src/main/RvAdaptersAndroidManifest.xml",
    deps = [
        ":dagger",
        "//model:model_lib",
        "//utility:utility_lib",
        ":view_models",
        artifact("androidx.appcompat:appcompat"),
        artifact("com.chaos.view:pinview:1.4.3"),
        artifact("com.github.bumptech.glide:glide"),
        artifact("com.caverock:androidsvg-aar"),
        artifact("androidx.lifecycle:lifecycle-livedata-ktx"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
        artifact("com.google.android.material:material:1.2.0-alpha02"),
        artifact("androidx.constraintlayout:constraintlayout:1.1.3"),
        artifact("de.hdodenhof:circleimageview:3.0.1"),
        artifact("javax.annotation:javax.annotation-api:jar"),
        artifact("org.jetbrains:annotations:jar"),
        "@circularimageview//circularimageview:circular_image_view",
        artifact("androidx.lifecycle:lifecycle-livedata-core:jar:2.0.0-alpha1"),
    ],
    visibility = ["//visibility:public"],
)

kt_android_library(
    name = "app_lib",
    custom_package = "org.oppia.app",
    srcs = glob(["src/main/java/org/oppia/app/**/*.kt"],
                exclude = VIEW_MODEL_FILES + BINDING_ADAPTER_FILES + LISTENER_FILES),
    enable_data_binding = 1,
    resource_files = glob(LAYOUT_RES_FILES),
    manifest = "src/main/AndroidManifest.xml",
    deps = [
        ":dagger",
        ":view_models",
        ":databinding_adapters",
        "//model:model_lib",
        "//utility:utility_lib",
        "databinding_resources",
        artifact("androidx.appcompat:appcompat"),
        artifact("com.github.bumptech.glide:glide"),
        artifact("com.caverock:androidsvg-aar"),
        artifact("androidx.lifecycle:lifecycle-livedata-ktx"),
        artifact("androidx.databinding:databinding-runtime"),
        artifact("androidx.databinding:databinding-adapters"),
        artifact("androidx.databinding:databinding-common"),
        artifact("androidx.annotation:annotation"),
        artifact("com.google.android.material:material:1.2.0-alpha02"),
    ],
    visibility = ["//visibility:public"],
)

dagger_rules()
